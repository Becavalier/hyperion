"serviceWorker"in window.navigator&&window.addEventListener("load",()=>{window.navigator.serviceWorker.register("/sw.js")});const throttle=(e,t)=>{let r=null;return(...o)=>{null===r&&(e.apply(this,o),r=setTimeout(()=>{r=null},t))}};document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("main"),t=Array.from(document.querySelectorAll(".headerlink")),r=Array.from(document.querySelectorAll(".toc li"));if(r.length>0){const o=throttle(()=>{let o=t.map(t=>t.offsetTop-e.scrollTop).findLastIndex(e=>e<=20);-1===o&&(o=0),r.forEach((e,r)=>{r===o?e.classList.add("active"):r==t.length-1&&-1==o||e.classList.remove("active")})},100);o(),e.addEventListener("scroll",()=>{o()})}});