<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>TypeScript Cheat Sheet | 曜彤.手记</title><meta name="baidu-site-verification" content="codeva-P9jyH0b1lv"><meta name="description" content="TypeScript cheat sheet, for quick reference only."><meta name="generator" content="曜彤.手记"><meta name="keywords" content="博客, C++, C, Rust, Web, Java, IT, 编程, 开发, Android, Python, MySQL, 科技, 黑客, 技术, Javascript, 云, 大数据, 计算, 机器学习, AI, 人工智能, 创业, 产品, 公司, WebAssembly, Wasm"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.jpg"><link rel="apple-touch-icon" sizes="60x60" href="/images/apple-touch-icon-60x60.jpg"><link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.jpg"><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.jpg"><link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.jpg"><link rel="apple-touch-icon" sizes="120x120" href="/images/apple-touch-icon-120x120.jpg"><link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.jpg"><link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.jpg"><link rel="apple-touch-icon" sizes="196x196" href="/images/apple-touch-icon-196x196.jpg"><link rel="apple-touch-icon" sizes="310x310" href="/images/apple-touch-icon-310x310.jpg"><link href="/images/splash/iphone5_splash.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="/images/splash/iphone6_splash.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="/images/splash/iphoneplus_splash.png" media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image"><link href="/images/splash/iphonex_splash.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image"><link href="/images/splash/iphonexr_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="/images/splash/iphonexsmax_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image"><link href="/images/splash/ipad_splash.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="/images/splash/ipadpro1_splash.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="/images/splash/ipadpro3_splash.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link href="/images/splash/ipadpro2_splash.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="128x128" href="/images/favicon-128.png"><link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-196x196.png"><meta name="msapplication-TileColor" content="#FFFFFF"><meta name="msapplication-TileImage" content="mstile-144x144.png"><meta name="msapplication-square70x70logo" content="mstile-70x70.png"><meta name="msapplication-square150x150logo" content="mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="mstile-310x150.png"><meta name="msapplication-square310x310logo" content="mstile-310x310.png"><meta name="msapplication-square310x310logo" content="mstile-310x310.png"><link rel="manifest" href="/manifest.webmanifest"><link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/atom.xml"><link rel="stylesheet" href="/css/prism-okaidia.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body itemscope itemtype="https://schema.org/WebPage"><div class="canvas-containter"><span>X</span></div><header itemscope itemtype="https://schema.org/WPHeader"><div class="logo"></div><h1 class="title"><a href="/" alt="曜彤.手记" title="曜彤.手记" itemprop="headline">曜彤.手记</a><a title="Atom 0.3" target="__blank" href="/atom.xml" class="rss"><img src="/images/rss.png"></a></h1><p itemprop="description" class="description">随记，关于互联网技术、产品与创业</p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name" class="menu-item"><a href="/ " alt="首页" title="首页" itemprop="url">首页</a></li><li itemprop="name" class="menu-item"><a href="/articles" alt="文章" title="文章" itemprop="url">文章</a></li><li itemprop="name" class="menu-item"><a href="/readings" alt="阅读" title="阅读" itemprop="url">阅读</a></li><li itemprop="name" class="menu-item"><a href="/cards" alt="快记" title="快记" itemprop="url">快记</a></li><li itemprop="name" class="menu-item"><a href="/tags" alt="标签" title="标签" itemprop="url">标签</a></li><li itemprop="name" class="menu-item"><a href="/about" alt="关于" title="关于" itemprop="url">关于</a></li></ul></nav><div class="dynamic-slot"></div><div class="toc-body"><div class="bookmark"></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Quick-Reference"><span class="toc-text">Quick Reference</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Basics"><span class="toc-text">Basics</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Type-Narrowing"><span class="toc-text">Type Narrowing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#More-on-Functions"><span class="toc-text">More on Functions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-Types"><span class="toc-text">Object Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Type-Manipulation"><span class="toc-text">Type Manipulation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Classes"><span class="toc-text">Classes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Modules"><span class="toc-text">Modules</span></a></li></ol></div><div class="space"></div></header><main itemscope itemtype="https://schema.org/Blog"><script src="https://shadow.elemecdn.com/npm/zoomage.js@latest/dist/zoomage.min.js" type="text/javascript"></script><script src="https://shadow.elemecdn.com/npm/axios@0.18.0/dist/axios.min.js" type="text/javascript"></script><script src="/scripts/post.js" type="text/javascript"></script><div class="touch-top"><span></span></div><article post-id="TypeScript Cheat Sheet" class="full article-post"><h1 itemprop="headline" class="align-center">TypeScript Cheat Sheet</h1><div class="content"><div class="article-meta"><span class="post-meta"><br>Created on<time itemprop="dateCreated" datetime="2023-12-23T14:13:00.000Z"> 2023 / 12 / 23, 22:13:00</time></span><span class="page-tag-anchor"><a href="/tags/TypeScript" itemprop="url">#TypeScript</a>&nbsp;&nbsp;</span></div><p>TypeScript cheat sheet, for quick reference only.</p>
<h3 id="Quick-Reference"><a href="#Quick-Reference" class="headerlink" title="Quick Reference"></a>Quick Reference</h3><p><p><img src="1.png" alt="Type"><span class="pic-desc">Type</span></p></p>
<p><p><img src="2.png" alt="Interface"><span class="pic-desc">Interface</span></p></p>
<p><p><img src="3.png" alt="Control Flow Analysis"><span class="pic-desc">Control Flow Analysis</span></p></p>
<p><p><img src="4.png" alt="Class"><span class="pic-desc">Class</span></p></p>
<h3 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h3><pre class="line-numbers language-typescript"><code class="language-typescript"><span class="token comment" spellcheck="true">/**
 * Primitive types.
 */</span>
<span class="token keyword">const</span> name<span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token operator">=</span> <span class="token string">'Jason Yu'</span>
<span class="token keyword">const</span> age<span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token operator">=</span> <span class="token number">30</span>
<span class="token keyword">const</span> hasMarried<span class="token punctuation">:</span> <span class="token keyword">boolean</span> <span class="token operator">=</span> <span class="token keyword">true</span>
<span class="token keyword">const</span> colors <span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">/**
 * Using `any` disables all further type checking, and it is assumed you know the environmen better than TypeScript.
 * Avoid this by "noImplicitAny".
 */</span>
<span class="token keyword">const</span> obj<span class="token punctuation">:</span> <span class="token keyword">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>  
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">1</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">"string"</span>

<span class="token comment" spellcheck="true">/**
 * Object types.
 */</span>
<span class="token keyword">const</span> printCoord <span class="token operator">=</span> <span class="token punctuation">(</span>pt<span class="token punctuation">:</span> <span class="token punctuation">{</span> x <span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pt<span class="token punctuation">.</span>x<span class="token punctuation">,</span> pt<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> printName <span class="token operator">=</span> <span class="token punctuation">(</span>obj <span class="token punctuation">:</span> <span class="token punctuation">{</span> first<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span> last<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>first<span class="token punctuation">,</span> obj<span class="token punctuation">.</span>last<span class="token punctuation">)</span> <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">// Checking for optional arg is needed.</span>
<span class="token keyword">const</span> printId <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token operator">|</span> <span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">// Union type, need a runtime check with "typeof".</span>

<span class="token comment" spellcheck="true">/**
 * Type aliases - reusable types, cannot be changed after being created.
 */</span>
type Point <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">;</span>
  y<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
type ID <span class="token operator">=</span> <span class="token keyword">number</span> <span class="token operator">|</span> <span class="token keyword">string</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * Interfaces - extendable way to name object types.
 */</span>
<span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  x<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">;</span>
  y<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// Add more fields to the existing type.</span>
  z<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> pt <span class="token punctuation">:</span> Point <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> z<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**
 * Type assertions - similar to value (down/up) cast.
 */</span>
<span class="token comment" spellcheck="true">// EventTarget &lt;- Node &lt;- Element &lt;- HTMLElement &lt;- HTMLCanvasElement.</span>
<span class="token keyword">const</span> canvasEle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span> as HTMLCanvasElement<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Double assertion.</span>
<span class="token keyword">const</span> resizeObserver <span class="token operator">=</span> <span class="token punctuation">(</span>window as unknown as Record<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> unknown<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'ResizeObserver'</span><span class="token punctuation">]</span> 

<span class="token comment" spellcheck="true">/**
 * Literal types.
 */</span>
<span class="token keyword">const</span> printText <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span> alignment<span class="token punctuation">:</span> <span class="token string">"left"</span> <span class="token operator">|</span> <span class="token string">"right"</span> <span class="token operator">|</span> <span class="token string">"center"</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">// Combining literals into unions.</span>
<span class="token keyword">const</span> compare <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">===</span> b <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> a <span class="token operator">></span> b <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">"GET"</span> <span class="token operator">|</span> <span class="token string">"POST"</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token keyword">const</span> reqA <span class="token operator">=</span> <span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">"https://hangyu.site"</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">"GET"</span> as <span class="token string">"GET"</span> <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">// Type assertion to always literal type.</span>
<span class="token keyword">const</span> reqB <span class="token operator">=</span> <span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">"https://hangyu.site"</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">"GET"</span> <span class="token punctuation">}</span> as <span class="token keyword">const</span>  <span class="token comment" spellcheck="true">// Convert the entire object to be type literals.</span>
<span class="token function">handleRequest</span><span class="token punctuation">(</span>reqA<span class="token punctuation">.</span>url<span class="token punctuation">,</span> reqA<span class="token punctuation">.</span>method<span class="token punctuation">)</span>
<span class="token keyword">const</span> liveDangerously <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">// Remove "null" and "undefined" from a specific type.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Type-Narrowing"><a href="#Type-Narrowing" class="headerlink" title="Type Narrowing"></a>Type Narrowing</h3><pre class="line-numbers language-typescript"><code class="language-typescript"><span class="token comment" spellcheck="true">// "typeof" narrowing.</span>
<span class="token keyword">const</span> padLeft <span class="token operator">=</span> <span class="token punctuation">(</span>padding<span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token operator">|</span> <span class="token keyword">string</span><span class="token punctuation">,</span> input<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> padding <span class="token operator">===</span> <span class="token string">"number"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">" "</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span>padding<span class="token punctuation">)</span> <span class="token operator">+</span> input
  <span class="token keyword">return</span> padding <span class="token operator">+</span> input
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// Truthiness narrowing.</span>
<span class="token keyword">const</span> printAll <span class="token operator">=</span> <span class="token punctuation">(</span>strs<span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token operator">|</span> <span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>strs <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> strs <span class="token operator">===</span> <span class="token string">"object"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// string[].</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> s of strs<span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> strs <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// string.</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strs<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// Type predicates - user-defined type guard.</span>
<span class="token keyword">const</span> isFish <span class="token operator">=</span> <span class="token punctuation">(</span>pet<span class="token punctuation">:</span> Fish <span class="token operator">|</span> Bird<span class="token punctuation">)</span><span class="token punctuation">:</span> pet is Fish <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// The return type is a type predicate.</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>pet as Fish<span class="token punctuation">)</span><span class="token punctuation">.</span>swim <span class="token operator">!==</span> undefined<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// Narrowing the given argument to a specific type.</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// Assertion functions.</span>
<span class="token keyword">interface</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span>
  kind<span class="token punctuation">:</span> <span class="token string">'circle'</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// Literal type.</span>
  radius<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Square</span> <span class="token punctuation">{</span>
  kind<span class="token punctuation">:</span> <span class="token string">'square'</span><span class="token punctuation">;</span>
  sideLength<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
type Shape <span class="token operator">=</span> Circle <span class="token operator">|</span> Square<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// A discriminated union, tags are recognized by their literal types.</span>
<span class="token keyword">const</span> getArea <span class="token operator">=</span> <span class="token punctuation">(</span>shape<span class="token punctuation">:</span> Shape<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>shape<span class="token punctuation">.</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">"circle"</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> shape<span class="token punctuation">.</span>radius <span class="token operator">**</span> <span class="token number">2</span>
    <span class="token keyword">case</span> <span class="token string">"square"</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> shape<span class="token punctuation">.</span>sideLength <span class="token operator">**</span> <span class="token number">2</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
      <span class="token keyword">const</span> _exhaustiveCheck<span class="token punctuation">:</span> never <span class="token operator">=</span> shape  <span class="token comment" spellcheck="true">// "shape" is the type of "never" here.</span>
      <span class="token keyword">return</span> _exhaustiveCheck
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="More-on-Functions"><a href="#More-on-Functions" class="headerlink" title="More on Functions"></a>More on Functions</h3><pre class="line-numbers language-typescript"><code class="language-typescript">type GreetFunction <span class="token operator">=</span> <span class="token punctuation">(</span>msg<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">void</span>  <span class="token comment" spellcheck="true">// Function type.</span>
<span class="token keyword">const</span> greeter<span class="token punctuation">:</span> GreetFunction <span class="token operator">=</span> <span class="token punctuation">(</span>msg<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">// The parameter name in the type is required.</span>

<span class="token comment" spellcheck="true">// Call signature in an object type.</span>
type DescribableFn <span class="token operator">=</span> <span class="token punctuation">{</span>
  description<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// Other properties.</span>
  <span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> myFn<span class="token punctuation">:</span> DescribableFn <span class="token operator">=</span> <span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> arg <span class="token operator">></span> <span class="token number">3</span>
myFn<span class="token punctuation">.</span>description <span class="token operator">=</span> <span class="token string">"fn description."</span>

<span class="token comment" spellcheck="true">// Construct signature (for function call).</span>
<span class="token keyword">interface</span> <span class="token class-name">Obj</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// The shape of Obj.</span>
  value<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">;</span>
  id<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Name</span> <span class="token keyword">implements</span> <span class="token class-name">Obj</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// One of the specific implementation.</span>
  value<span class="token punctuation">:</span> <span class="token keyword">string</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> s <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
type CallConstruct <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">new</span> <span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Obj<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// The return type should be stick to the shape.</span>
<span class="token punctuation">}</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span>Ctor<span class="token punctuation">:</span> CallConstruct<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">new</span> <span class="token class-name">Ctor</span><span class="token punctuation">(</span><span class="token string">"Jason"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Name<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// Generic functions (type parameters are for relating the types of multiple values).</span>
<span class="token keyword">function</span> sum<span class="token operator">&lt;</span>Type<span class="token operator">></span><span class="token punctuation">(</span>arr<span class="token punctuation">:</span> Type<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> num<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> prev <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>num as <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> longest<span class="token operator">&lt;</span>Type <span class="token keyword">extends</span> <span class="token punctuation">{</span> length<span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> Type<span class="token punctuation">,</span> b<span class="token punctuation">:</span> Type<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment" spellcheck="true">// Constrain the type parameters.</span>
  <span class="token keyword">return</span> a<span class="token punctuation">.</span>length <span class="token operator">></span> b<span class="token punctuation">.</span>length <span class="token operator">?</span> a <span class="token punctuation">:</span> b
<span class="token punctuation">}</span>
<span class="token keyword">function</span> combine<span class="token operator">&lt;</span>Type<span class="token operator">></span><span class="token punctuation">(</span>arrA<span class="token punctuation">:</span> Type<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arrB<span class="token punctuation">:</span> Type<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Type<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arrA<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arrB<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> combine<span class="token operator">&lt;</span><span class="token keyword">string</span> <span class="token operator">|</span> <span class="token keyword">number</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"hello"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
<span class="token keyword">function</span> <span class="token function">myForEach</span><span class="token punctuation">(</span>arr<span class="token punctuation">:</span> <span class="token keyword">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> callback<span class="token punctuation">:</span> <span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token keyword">any</span><span class="token punctuation">,</span> index<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">callback</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">myForEach</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">// Functions with fewer parameters (of the same types) can always take the place of functions with more parameters.</span>
<span class="token function">myForEach</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// Function overloads.</span>
<span class="token keyword">function</span> <span class="token function">makeDate</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Date  <span class="token comment" spellcheck="true">// Overload signatures.</span>
<span class="token keyword">function</span> <span class="token function">makeDate</span><span class="token punctuation">(</span>m<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> d<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Date  <span class="token comment" spellcheck="true">// Overload signatures.</span>
<span class="token keyword">function</span> <span class="token function">makeDate</span><span class="token punctuation">(</span>mOrTimestamp<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> d<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> y<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Date <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// Implementation signatures, which should be compatible with the overload signatures.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>d <span class="token operator">!==</span> undefined <span class="token operator">&amp;&amp;</span> y <span class="token operator">!==</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> mOrTimestamp<span class="token punctuation">,</span> d<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>mOrTimestamp<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// "unknown" which is the type-safe counterpart of any. </span>
<span class="token comment" spellcheck="true">// Anything is assignable to unknown, but unknown isn't assignable to anything -</span>
<span class="token comment" spellcheck="true">// but itself and any without a type assertion or a control flow based narrowing. -</span>
<span class="token comment" spellcheck="true">// Likewise, no operations are permitted on an unknown without first asserting or -</span>
<span class="token comment" spellcheck="true">// narrowing to a more specific type.</span>
<span class="token keyword">function</span> <span class="token function">safeParse</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> unknown <span class="token punctuation">{</span>
  <span class="token keyword">return</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fail</span><span class="token punctuation">(</span>msg<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> never <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">multiply</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> <span class="token operator">...</span>m<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// Rest parameter.</span>
  <span class="token keyword">return</span> m<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> n <span class="token operator">*</span> x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> as <span class="token keyword">const</span>  <span class="token comment" spellcheck="true">// TS doesn't assume that arrays are immutable, so using type literals here.</span>
<span class="token keyword">const</span> angle <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">atan2</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// Parameter destructuring.</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token punctuation">}</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">;</span> y<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">;</span> z<span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y <span class="token operator">+</span> z<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
type voidFuncType <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">void</span>
<span class="token keyword">const</span> fn<span class="token punctuation">:</span> voidFuncType <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">true</span>  <span class="token comment" spellcheck="true">// Valid, fn returns "more" information than type of "voidFunc".</span>
<span class="token keyword">const</span> cbVoid <span class="token operator">=</span> <span class="token punctuation">(</span>cb<span class="token punctuation">:</span> voidFuncType<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">cbVoid</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">true</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">// Valid, same as above.</span>
<span class="token keyword">const</span> literalFn <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// For literal void function, it must not return anything.</span>
  <span class="token comment" spellcheck="true">// @ts-expect-error</span>
  <span class="token keyword">return</span> <span class="token keyword">true</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Object-Types"><a href="#Object-Types" class="headerlink" title="Object Types"></a>Object Types</h3><pre class="line-numbers language-typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Type</span> <span class="token punctuation">{</span>
  readonly prop<span class="token punctuation">:</span> <span class="token keyword">string</span>  <span class="token comment" spellcheck="true">// Readonly properties.</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">StrObjType</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token operator">|</span> undefined  <span class="token comment" spellcheck="true">// When a StringArray is indexed with a string, it may return a string.</span>
  field<span class="token punctuation">:</span> <span class="token keyword">string</span>
  optFiled<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> strObj<span class="token punctuation">:</span> StrObjType <span class="token operator">=</span> <span class="token punctuation">{</span> field<span class="token punctuation">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// Without the index signature, object literal may only specify known properties.</span>
<span class="token keyword">interface</span> <span class="token class-name">SquareConfig</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// [propName: string]: any;</span>
  color<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">string</span>
  width<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> square<span class="token punctuation">:</span> SquareConfig <span class="token operator">=</span> <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// Extending types.</span>
<span class="token keyword">interface</span> <span class="token class-name">BasicAddr</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">string</span>
  street<span class="token punctuation">:</span> <span class="token keyword">string</span>
  city<span class="token punctuation">:</span> <span class="token keyword">string</span>
  country<span class="token punctuation">:</span> <span class="token keyword">string</span>
  postalCode<span class="token punctuation">:</span> <span class="token keyword">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">AddressWithUnit</span> <span class="token keyword">extends</span> <span class="token class-name">BasicAddr</span> <span class="token punctuation">{</span>
  unit<span class="token punctuation">:</span> <span class="token keyword">string</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// Interaction types.</span>
<span class="token keyword">interface</span> <span class="token class-name">Colorful</span> <span class="token punctuation">{</span>
  color<span class="token punctuation">:</span> <span class="token keyword">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span>
  radius<span class="token punctuation">:</span> <span class="token keyword">number</span>
<span class="token punctuation">}</span>
type ColorfulCircle <span class="token operator">=</span> Colorful <span class="token operator">&amp;</span> Circle
<span class="token keyword">const</span> circle<span class="token punctuation">:</span> ColorfulCircle <span class="token operator">=</span> <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">42</span> <span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// Generic object types.</span>
<span class="token keyword">interface</span> <span class="token class-name">Box</span><span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token punctuation">{</span>
  contents<span class="token punctuation">:</span> Type
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// type Box&lt;Type> = { contents: Type }</span>
<span class="token keyword">const</span> box<span class="token punctuation">:</span> Box<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span> contents<span class="token punctuation">:</span> <span class="token string">"box"</span> <span class="token punctuation">}</span>
type NumBox <span class="token operator">=</span> Box<span class="token operator">&lt;</span><span class="token keyword">number</span><span class="token operator">></span>  <span class="token comment" spellcheck="true">// Reuse generic types.</span>
type OrNull<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> Type <span class="token operator">|</span> <span class="token keyword">null</span>
type OneOrMany<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> Type <span class="token operator">|</span> Type<span class="token punctuation">[</span><span class="token punctuation">]</span>
type OneOrManyOrNull<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> OrNull<span class="token operator">&lt;</span>OneOrMany<span class="token operator">&lt;</span>Type<span class="token operator">></span><span class="token operator">></span>
type OneOrManyOrNullStrings <span class="token operator">=</span> OneOrManyOrNull<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span>

<span class="token comment" spellcheck="true">// The "ReadonlyArray" type.</span>
<span class="token comment" spellcheck="true">// Assignability isn’t bidirectional between regular Arrays and ReadonlyArrays.</span>
<span class="token keyword">function</span> <span class="token function">doStuff</span><span class="token punctuation">(</span>values<span class="token punctuation">:</span> ReadonlyArray<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">// "values" cannot be changed.</span>
<span class="token comment" spellcheck="true">// function doStuff(values: readonly string[]) {}</span>

<span class="token comment" spellcheck="true">// Tuple types - another sort of Array type that knows exactly -</span>
<span class="token comment" spellcheck="true">// how many elements it contains, and exactly which types it contains at specific positions.</span>
type StringNumberPair <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">number</span><span class="token punctuation">]</span>
type Either2dOr3d <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">number</span><span class="token punctuation">,</span> <span class="token keyword">number</span><span class="token punctuation">,</span> <span class="token keyword">number</span><span class="token operator">?</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// Optional tuple elements can only come at the end.</span>
type StringNumberBooleans <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">number</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// Tuple with rest elements.</span>
<span class="token keyword">function</span> <span class="token function">readButtonInput</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">:</span> StringNumberBooleans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> version<span class="token punctuation">,</span> <span class="token operator">...</span>input<span class="token punctuation">]</span> <span class="token operator">=</span> args
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// Read-only tupl - tuples tend to be created and left un-modified in most code.</span>
<span class="token keyword">const</span> point <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span> as <span class="token keyword">const</span>
<span class="token keyword">function</span> <span class="token function">distanceFromOrigin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">:</span> readonly <span class="token punctuation">[</span><span class="token keyword">number</span><span class="token punctuation">,</span> <span class="token keyword">number</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>x <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> y <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">distanceFromOrigin</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Type-Manipulation"><a href="#Type-Manipulation" class="headerlink" title="Type Manipulation"></a>Type Manipulation</h3><pre class="line-numbers language-typescript"><code class="language-typescript"><span class="token comment" spellcheck="true">// Generic call signature.</span>
<span class="token keyword">interface</span> <span class="token class-name">GenericIdentityFn</span> <span class="token punctuation">{</span>
  <span class="token operator">&lt;</span>Type<span class="token operator">></span><span class="token punctuation">(</span>arg<span class="token punctuation">:</span> Type<span class="token punctuation">)</span><span class="token punctuation">:</span> Type
<span class="token punctuation">}</span>
<span class="token keyword">function</span> identity<span class="token operator">&lt;</span>Type<span class="token operator">></span><span class="token punctuation">(</span>arg<span class="token punctuation">:</span> Type<span class="token punctuation">)</span><span class="token punctuation">:</span> Type <span class="token punctuation">{</span> <span class="token keyword">return</span> arg <span class="token punctuation">}</span>
<span class="token keyword">const</span> myIdentity<span class="token punctuation">:</span> GenericIdentityFn <span class="token operator">=</span> identity

<span class="token comment" spellcheck="true">// Generic constraints.</span>
<span class="token keyword">interface</span> <span class="token class-name">Lengthwise</span> <span class="token punctuation">{</span>
  length<span class="token punctuation">:</span> <span class="token keyword">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> loggingIdentity<span class="token operator">&lt;</span>Type <span class="token keyword">extends</span> <span class="token class-name">Lengthwise</span><span class="token operator">></span><span class="token punctuation">(</span>arg<span class="token punctuation">:</span> Type<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> arg<span class="token punctuation">.</span>length <span class="token punctuation">}</span>
<span class="token keyword">function</span> getProperty<span class="token operator">&lt;</span>Type<span class="token punctuation">,</span> Key <span class="token keyword">extends</span> <span class="token class-name">keyof</span> Type<span class="token operator">></span><span class="token punctuation">(</span>obj<span class="token punctuation">:</span> Type<span class="token punctuation">,</span> key<span class="token punctuation">:</span> Key<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token keyword">function</span> create<span class="token operator">&lt;</span>Type<span class="token operator">></span><span class="token punctuation">(</span>c<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Type <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Type <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">// Generic consturct signature.</span>

<span class="token comment" spellcheck="true">// Generic with default types.</span>
type Container<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> U<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  element<span class="token punctuation">:</span> T
  children<span class="token punctuation">:</span> U
<span class="token punctuation">}</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> create<span class="token operator">&lt;</span>T <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token operator">=</span> HTMLDivElement<span class="token punctuation">,</span> U <span class="token operator">=</span> T<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">(</span>
  element<span class="token operator">?</span><span class="token punctuation">:</span> T<span class="token punctuation">,</span>
  children<span class="token operator">?</span><span class="token punctuation">:</span> U
<span class="token punctuation">)</span><span class="token punctuation">:</span> Container<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> U<span class="token operator">></span>

<span class="token comment" spellcheck="true">// "keyof" type operator.</span>
type Point <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token punctuation">}</span>
type P <span class="token operator">=</span> keyof Point  <span class="token comment" spellcheck="true">// "x" | "y".</span>

<span class="token comment" spellcheck="true">// "typeof" type operator - only available on identifiers.</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
type P <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span>tyepof fn<span class="token operator">></span>
<span class="token comment" spellcheck="true">//   ^? type P = { x: number; y: number; }</span>

<span class="token comment" spellcheck="true">// Indexded access types.</span>
type Person <span class="token operator">=</span> <span class="token punctuation">{</span> age<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span> alive<span class="token punctuation">:</span> <span class="token keyword">boolean</span> <span class="token punctuation">}</span>
type Age <span class="token operator">=</span> Person<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span>
type I1 <span class="token operator">=</span> Person<span class="token punctuation">[</span><span class="token string">'age'</span> <span class="token operator">|</span> <span class="token string">'name'</span><span class="token punctuation">]</span>
type I2 <span class="token operator">=</span> Person<span class="token punctuation">[</span>keyof Person<span class="token punctuation">]</span>
<span class="token keyword">const</span> MyArray <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Jason'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
type ArrayPerson <span class="token operator">=</span> <span class="token keyword">typeof</span> MyArray<span class="token punctuation">[</span><span class="token keyword">number</span><span class="token punctuation">]</span>
type ArrayAge <span class="token operator">=</span> <span class="token keyword">typeof</span> MyArray<span class="token punctuation">[</span><span class="token keyword">number</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// Index with type literal "age".</span>

<span class="token comment" spellcheck="true">// Conditional types.</span>
<span class="token keyword">interface</span> <span class="token class-name">IdLabel</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token keyword">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">NameLabel</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token keyword">string</span>
<span class="token punctuation">}</span>
type NameOrId<span class="token operator">&lt;</span>T <span class="token keyword">extends</span> <span class="token class-name">number</span> <span class="token operator">|</span> <span class="token keyword">string</span><span class="token operator">></span> <span class="token operator">=</span> T <span class="token keyword">extends</span> <span class="token class-name">number</span> <span class="token operator">?</span> IdLabel <span class="token punctuation">:</span> NameLabel
<span class="token keyword">function</span> createLabel<span class="token operator">&lt;</span>T <span class="token keyword">extends</span> <span class="token class-name">number</span> <span class="token operator">|</span> <span class="token keyword">string</span><span class="token operator">></span><span class="token punctuation">(</span>idOrName<span class="token punctuation">:</span> T<span class="token punctuation">)</span><span class="token punctuation">:</span> NameOrId<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// "infer" keyword.</span>
type GetReturnType<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">:</span> never<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> infer Return <span class="token operator">?</span> Return <span class="token punctuation">:</span> never
<span class="token comment" spellcheck="true">// Distributive conditional types.</span>
type ToArray<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token class-name">any</span> <span class="token operator">?</span> Type<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> never
type StrArrOrNumArr <span class="token operator">=</span> ToArray<span class="token operator">&lt;</span><span class="token keyword">string</span> <span class="token operator">|</span> <span class="token keyword">number</span><span class="token operator">></span> <span class="token comment" spellcheck="true">//  string[] | number[].</span>
type ToArrayNonDist<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span>Type<span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token keyword">any</span><span class="token punctuation">]</span> <span class="token operator">?</span> Type<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> never
type ArrOfStrOrNum <span class="token operator">=</span> ToArrayNonDist<span class="token operator">&lt;</span><span class="token keyword">string</span> <span class="token operator">|</span> <span class="token keyword">number</span><span class="token operator">></span>  <span class="token comment" spellcheck="true">// (string | number)[].</span>

<span class="token comment" spellcheck="true">// Mapped types.</span>
type OptionsFlags<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Property <span class="token keyword">in</span> keyof Type<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">boolean</span>
<span class="token punctuation">}</span>
type Features <span class="token operator">=</span> <span class="token punctuation">{</span>
  darkMode<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">void</span>
  newUserProfile<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// Take all the properties from "Features" and change their values to be a boolean.</span>
type FeatureOptions <span class="token operator">=</span> OptionsFlags<span class="token operator">&lt;</span>Features<span class="token operator">></span>  
type CreateMutable<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">-</span>readonly <span class="token punctuation">[</span>Property <span class="token keyword">in</span> keyof Type<span class="token punctuation">]</span><span class="token punctuation">:</span> Type<span class="token punctuation">[</span>Property<span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// Remove "readonly".</span>
<span class="token punctuation">}</span>
type Concrete<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Property <span class="token keyword">in</span> keyof Type<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> Type<span class="token punctuation">[</span>Property<span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// Remove "optional".</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// Key remapping.</span>
type Getters<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Property <span class="token keyword">in</span> keyof Type as <span class="token template-string"><span class="token string">`get</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Capitalize<span class="token operator">&lt;</span>string <span class="token operator">&amp;</span> Property<span class="token operator">></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Type<span class="token punctuation">[</span>Property<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// Filter out keys.</span>
type RemoveKindField<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Property <span class="token keyword">in</span> keyof Type as Exclude<span class="token operator">&lt;</span>Property<span class="token punctuation">,</span> <span class="token string">"kind"</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">:</span> Type<span class="token punctuation">[</span>Property<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
type EventConfig<span class="token operator">&lt;</span>Events <span class="token keyword">extends</span> <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token punctuation">}</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>E <span class="token keyword">in</span> Events as E<span class="token punctuation">[</span><span class="token string">"kind"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>event<span class="token punctuation">:</span> E<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
type SquareEvent <span class="token operator">=</span> <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">"square"</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token punctuation">}</span>
type Config <span class="token operator">=</span> EventConfig<span class="token operator">&lt;</span>SquareEvent<span class="token operator">></span>
type ExtractPII<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Property <span class="token keyword">in</span> keyof Type<span class="token punctuation">]</span><span class="token punctuation">:</span> Type<span class="token punctuation">[</span>Property<span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> pii<span class="token punctuation">:</span> <span class="token keyword">true</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token keyword">true</span> <span class="token punctuation">:</span> <span class="token keyword">false</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// Template literal types.</span>
type World <span class="token operator">=</span> <span class="token string">"world"</span>
type Greeting <span class="token operator">=</span> <span class="token template-string"><span class="token string">`hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>World<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
type EmailLocaleIDs <span class="token operator">=</span> <span class="token string">"welcome_email"</span> <span class="token operator">|</span> <span class="token string">"email_heading"</span>
type FooterLocaleIDs <span class="token operator">=</span> <span class="token string">"footer_title"</span> <span class="token operator">|</span> <span class="token string">"footer_sendoff"</span>
type AllLocaleIDs <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>EmailLocaleIDs <span class="token operator">|</span> FooterLocaleIDs<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_id`</span></span>
type Lang <span class="token operator">=</span> <span class="token string">"en"</span> <span class="token operator">|</span> <span class="token string">"ja"</span> <span class="token operator">|</span> <span class="token string">"pt"</span>
<span class="token comment" spellcheck="true">// For each interpolated position in the template literal, the unions are cross multiplied.</span>
type LocaleMessageIDs <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>AllLocaleIDs<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>  
<span class="token comment" spellcheck="true">// Defining a new string based on information inside a type.</span>
type PropEventSource<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  on<span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">&amp;</span> keyof Type<span class="token operator">></span>
    <span class="token punctuation">(</span>eventName<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">Changed`</span></span><span class="token punctuation">,</span> callback<span class="token punctuation">:</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">:</span> Type<span class="token punctuation">[</span>Key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> makeWatchedObject<span class="token operator">&lt;</span>Type<span class="token operator">></span><span class="token punctuation">(</span>obj<span class="token punctuation">:</span> Type<span class="token punctuation">)</span><span class="token punctuation">:</span> Type <span class="token operator">&amp;</span> PropEventSource<span class="token operator">&lt;</span>Type<span class="token operator">></span>
<span class="token comment" spellcheck="true">// Intrinsic string manipulation types.</span>
type ShoutyGreeting <span class="token operator">=</span> Uppercase<span class="token operator">&lt;</span>Greeting<span class="token operator">></span>  <span class="token comment" spellcheck="true">// Converts each character in the string to the uppercase version.</span>
type QuietGreeting <span class="token operator">=</span> Lowercase<span class="token operator">&lt;</span>Greeting<span class="token operator">></span>  <span class="token comment" spellcheck="true">// Converts each character in the string to the lowercase version.</span>
type CapitalizeGreeting <span class="token operator">=</span> Capitalize<span class="token operator">&lt;</span>Greeting<span class="token operator">></span>  <span class="token comment" spellcheck="true">// Converts the string to the cpitalized version.</span>
type UncapitalizeGreeting <span class="token operator">=</span> Uncapitalize<span class="token operator">&lt;</span>Greeting<span class="token operator">></span>  <span class="token comment" spellcheck="true">// Converts the string to the uncpitalized version.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h3><pre class="line-numbers language-typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">OKGreeter</span> <span class="token punctuation">{</span>
  name<span class="token operator">!</span><span class="token punctuation">:</span> <span class="token keyword">string</span>  <span class="token comment" spellcheck="true">// Not initialized, but no error.</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Greeter</span> <span class="token punctuation">{</span>
  readonly name<span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token operator">=</span> <span class="token string">"world"</span>  <span class="token comment" spellcheck="true">// This field can only be changed within construtor.</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// Class heritage.</span>
<span class="token keyword">interface</span> <span class="token class-name">Pingable</span> <span class="token punctuation">{</span>
  <span class="token function">pint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Sonar</span> <span class="token keyword">implements</span> <span class="token class-name">Pingable</span> <span class="token punctuation">{</span>
  <span class="token function">pint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Modules"><a href="#Modules" class="headerlink" title="Modules"></a>Modules</h3><pre class="line-numbers language-typescript"><code class="language-typescript"><span class="token comment" spellcheck="true">// ES module syntax.</span>
<span class="token comment" spellcheck="true">// @filename: animal.ts</span>
<span class="token keyword">export</span> type Cat <span class="token operator">=</span> <span class="token punctuation">{</span> breed<span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  breeds<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// @filename: app.ts</span>
<span class="token keyword">import</span> type <span class="token punctuation">{</span> Cat<span class="token punctuation">,</span> Dog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./animal.js'</span>
<span class="token comment" spellcheck="true">// import { type Cat, type Dog, ... } from './animal.js'  // Inline type imports.</span>
type Animals <span class="token operator">=</span> Cat <span class="token operator">|</span> Dog
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<br><div class="article-bottom-meta"><span class="post-meta">Last built on<time itemprop="dateModified" datetime="2023-12-23T14:13:00.000Z"> 2025 / 03 / 31, 15:59:31</time></span></div></div></article><br><span class="next-post"><a href="/2024/01/11/《Operating-Systems-Three-Easy-Pieces》读书笔记（第-30-38-章）/" itemprop="url">下一篇 ⇒</a></span><span class="prev-post"><a href="/2023/11/10/WebAssembly-GC-V1-Extension/" itemprop="url">⇐ 上一篇</a></span><br><section id="comments"><h4>评论 | Comments</h4><br><div class="comment-container"><div class="loading-mask">Loading ...</div><script src="https://utteranc.es/client.js" repo="Becavalier/utterances-comments" issue-term="title" label="[Comment]" theme="github-light" crossorigin="anonymous" async></script></div></section><br><br></main><script src="/scripts/index.js" type="text/javascript"></script></body></html>