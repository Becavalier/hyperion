---
title: 《算法4》读书笔记（第 1-3 章）
intro: 读一读这本算法经典教材。
comments: false
date: 2023-03-06 08:25:10
tags:
- 算法
---

读一读这本算法经典教材。

### 第一章、基础

1. [Page: 1] **欧几里得算法**（gcd）：求两个非负整数的最大公约数，又称“辗转相除法”。以除数和余数反复做除法运算，当余数为 0 时，取当前算式除数为最大公约数。

```cpp
int gcd(int x, int y) {
  if (y == 0) return x;
  int r = x % y;
  return gcd(y, r);
}
```

2. [Page: 79] **Dijkstra 双栈算数表达式求值算法**：

* 该算法用于计算给定字符串算数表达式的值，子表达式均由括号分割。大致流程：
  * 将操作数压入操作数栈；
  * 将运算符压入运算符栈；
  * 忽略左括号；
  * 遇到右括号时，弹出所需数量的操作数，并将运算符和操作数的运算结果压入操作数栈。

```cpp
#include <iostream>
#include <string>
#include <stack>
#include <cmath>

int parseInt(std::string::iterator& itr, std::string::const_iterator& end) {
  std::stack<char> bits;
  int num;
  for (;itr != end; ++itr) {
    const auto ch = *itr;
    const auto bitNum = ch - 0x30;
    bits.push(bitNum);
    // Look ahead to see if it's the end.
    const auto nextBit = *(itr + 1);
    if (nextBit < 0x30 || nextBit > 0x39) break;
  }
  for (auto i = 0; i < bits.size(); ++i) {
    const auto ch = bits.top();
    num += (pow(10, i) * ch);
    bits.pop();
  }
  return num;
}

int dijkstra(std::string& str) {
  std::stack<char> oprs;
  std::stack<int> opds;
  auto head = str.begin();
  const auto end = str.end();
  while (head != end) {
    const auto ch = *head;
    switch (ch) {
      case '-':
      case '*':
      case '/':
      case '+': {
        oprs.push(ch);
        break;
      }
      case ' ':
      case '(': { break; }
      case ')': {
        const auto op = oprs.top();
        auto v = opds.top();
        opds.pop();
        oprs.pop();
        if (op == '*') v = opds.top() * v;  // Keep the arithmetic sequence.
        else if (op == '-') v = opds.top() - v;
        else if (op == '+') v = opds.top() + v;
        else if (op == '/') v = opds.top() / v;
        opds.top() = v;
        break;
      }
      default: {
        opds.push(parseInt(head, end));
      }
    }
    ++head;
  }
  return opds.top();
}


int main(void) {
  std::string str = "((1 + 4) * 6)";
  std::cout << dijkstra(str) << std::endl;
}
```

3. [Page: 4]

4. [Page: 4]

5. [Page: 4]


